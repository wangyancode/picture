/*
 * @Author: iowen
 * @Author URI: https://www.iowen.cn/
 * @Date: 2024-08-20 16:50:10
 * @LastEditors: iowen
 * @LastEditTime: 2025-06-11 11:43:25
 * @FilePath: /onenav/assets/js/main.min.js
 * @Description: 
 */

"use strict";function getPredefinedContent(t){var e="";return e="title"==t?'\n    <div class="placeholder-posts null-'+t+'">\n      <span class="--image"></span>\n      <span class="--title"></span>\n    </div>':'\n    <div class="placeholder-posts null-'+t+'">\n      <div class="p-header">\n        <span class="--image"></span>\n      </div>\n      <div class="p-meta">\n        <span class="--title"></span>\n        <div class="--meta"><span></span><span></span><span></span></div>\n      </div>\n    </div>\n  ',e.repeat(6)}function getPosts(t,e,a,i){if(t.hasClass("disabled"))return!1;t.addClass("disabled");var o=t.closest(".ajax-parent");if(!o.length)return showAlert({status:4,msg:IO.localize.parameterError}),!1;e=e||t.data(),a=a||"GET";var n=o.find(t.data("target")),s=t.attr("href")||t.data("href"),r=getPredefinedContent(t.data("style"));return"javascript:;"===s&&(s=IO.ajaxurl),n.html(r),$.ajax({type:a,url:s,data:e,dataType:"html"}).done(function(t){n.html(t),i&&i($response),ioAutoFun()}).fail(function(t,e,a){n.find(".placeholder-posts").remove(),showAlert({status:4,msg:"Error: "+e+" - "+a})}).always(function(){t.removeClass("disabled")}),!1}function ajaxPosts(t,e,a,i){var o=t.closest(e);0==o.length&&(o=$(e));var n=o.find(".ajax-posts-row"),s=t.attr("ajax-method"),r=t.attr("ajax-href")||t.attr("href")||t.find("a").attr("ajax-href")||t.find("a").attr("href"),l=t.data("style")||n.data("style"),d=getPredefinedContent(l);return s?n.html(d):n.append(d),$.ajax({type:"GET",url:r,dataType:"html"}).done(function(r){var l=$(r);if("page"===s)o.html(l.find(e).html()),o.find(".selects-box .active").parent().tabToCenter();else{var d=l.find(a);n.find(".placeholder-posts").remove(),s?n.html(d):n.append(d)}i&&i.forEach(function(t){var e=l.find(t);if(e.length){var a=o.find(t);a.length||(a=$(t)),a.html(e.html())}}),t.removeClass("disabled"),ioAutoFun()}).fail(function(){n.find(".placeholder-posts").remove(),t.removeClass("disabled"),showAlert({status:4,msg:IO.localize.networkError})}),!1}function switchThemeMode(t){var e=$(".switch-dark-mode"),a=e.find(".mode-ico"),i=$("#post_content_ifr").contents().find("body");i.length>0&&(IO.isDarkMode?i.addClass("io-black-mode"):i.removeClass("io-black-mode")),t&&$.cookie("io_night_mode",IO.isDarkMode?0:1),e.attr("data-original-title")?e.attr("data-original-title",IO.isDarkMode?IO.localize.lightMode:IO.localize.nightMode):e.attr("title",IO.isDarkMode?IO.localize.lightMode:IO.localize.nightMode),a.removeClass(IO.isDarkMode?"icon-night":"icon-light").addClass(IO.isDarkMode?"icon-light":"icon-night"),switchSrc();var o=new CustomEvent("themeModeChanged",{detail:{isDarkMode:IO.isDarkMode}});window.dispatchEvent(o);var n=$(".big-posts"),s=$.Event("themeModeChanged");n.trigger(s)}function switchSrc(){$("img[switch-src]").each(function(){var t=$(this),e=t.attr("data-src")||t.attr("src"),a=t.attr("switch-src"),i=JSON.parse(t.attr("is-dark").toLowerCase());i!=IO.isDarkMode&&t.attr("src",a).attr("switch-src",e).removeAttr("data-src").attr("is-dark",!i)})}function isInViewPort(t,e,a){if(!("IntersectionObserver"in window))return a(!1),void console.log("此浏览器不支持 IntersectionObserver。");var i="string"==typeof t?document.querySelector(t):t;if(!i)return void a(!1);i.callback=a,e.observe(i)}function ioModal(t){var e=t.data("modal_size")||"modal-medium",a=t.data("modal_type")||"modal-suspend",i=t.data("modal_id")||a,i="refresh_modal_"+i,o=void 0===t.data("modal_esc")||t.data("modal_esc"),n='<div class="modal fade" id="'+i+'" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="modal-dialog '+e+' modal-dialog-centered" role="document">\n      <div class="modal-content '+a+'"></div>\n    </div>\n  </div>',s=$("#"+i);return s.length||($("body").append(n),s=$("#"+i)),s.find(".modal-content").html('<div class="io-modal-content"></div><div class="loading-anim io-radius blur-bg-20"><div class="d-flex align-items-center justify-content-center h-100"><i class="iconfont icon-loading icon-spin text-32"></i></div></div>').css({height:"220px",overflow:"hidden"}),o||s.modal({backdrop:"static",keyboard:!1}),s.modal("show"),s}function newObserver(t){return new IntersectionObserver(function(t){t.forEach(function(t){var e=t.target,a=t.isIntersecting;e.callback&&"function"==typeof e.callback&&e.callback(a)})},{root:null,rootMargin:t+"px 0px"})}function debounce(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0;return function(){for(var o=arguments.length,n=Array(o),s=0;s<o;s++)n[s]=arguments[s];var r=this,l=a&&!i;clearTimeout(i),i=setTimeout(function(){i=null,a||t.apply(r,n)},e),l&&t.apply(r,n)}}function throttle(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null,o=0;return function(){for(var n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];var l=Date.now(),d=this;a&&!o&&(t.apply(d,s),o=l);var c=e-(l-o);clearTimeout(i),c<=0?(t.apply(d,s),o=l):i||(i=setTimeout(function(){i=null,o=a?0:Date.now(),a||t.apply(d,s)},c))}}function ioAjax(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.attr("disabled"))return!1;if(!e){var i=t.closest("form");e=i.serializeObject()}var o=t.data("action");o&&(e.action=o);var n={};t.attr("disabled",!0),$.ajax({url:IO.ajaxurl,type:"POST",dataType:"json",data:e}).done(function(i){i.msg?(n.status=i.status,n.msg=i.msg,showAlert(n)):removeAlert(),t.attr("disabled",!1),$.isFunction(a)&&a(i,t,e),i.goto?(window.location.href=i.goto,window.location.reload):i.reload&&window.location.reload()}).fail(function(e){e=e.responseJSON,e&&e.msg?(n.status=e.status,n.msg=e.msg,showAlert(n)):(n.status=4,n.msg=IO.localize.networkError,showAlert(n)),t.attr("disabled",!1)})}function showAlert(t){if(t){var e,a,i=t.status||t.type||0,o=t.msg||t.message||"";if(""!=o){switch(i){case 0:IO.localize.successAlert,e="vc-gray",a="icon-loading icon-spin";break;case 1:IO.localize.successAlert,e="vc-blue",a="icon-adopt";break;case 2:IO.localize.infoAlert,e="vc-violet",a="icon-tishi";break;case 3:IO.localize.warningAlert,e="vc-yellow",a="icon-warning";break;case 4:IO.localize.errorAlert,e="vc-red",a="icon-close-circle"}var n=$("#alert_placeholder");n[0]||(IO.body.append('<div id="alert_placeholder" class="alert-system"></div>'),n=$("#alert_placeholder"));var s=$('<div class="alert-body io-alert-'+i+" tips-box "+e+'"><i class="iconfont '+a+'"></i><span>'+o+"</span></div>");removeAlert(),n.append(s),0==i?s.slideDown().addClass("show"):(s.slideDown().addClass("show"),setTimeout(function(){removeAlert(s)},3500))}}}function removeAlert(t){t||(t=$(".io-alert-0")),t[0]&&(t.removeClass("show"),setTimeout(function(){t.remove()},300))}function copyText(t,e,a,i){var o=t.toString(),n=document.querySelector("#copy-input");n||(n=document.createElement("input"),n.id="copy-input",n.readOnly="readOnly",n.style.position="fixed",n.style.left="-2000px",n.style.zIndex="-1000",i.parentNode.appendChild(n)),n.value=o,function(t,e,a){if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",a-e),i.select()}else t.setSelectionRange(e,a),t.select()}(n,0,o.length),document.execCommand("copy")?$.isFunction(e)&&e():$.isFunction(a)&&a(),n.blur()}function isPC(){if(navigator.userAgentData)return!navigator.userAgentData.mobile;var t=navigator.userAgent.toLowerCase();return!["android","iphone","webos","blackberry","symbian","windows phone","ipad","ipod","mobile","tablet","kindle","silk","playbook"].some(function(e){return t.includes(e)})}function isURL(t){return/https?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(t)}function changeInput(t){if("true"==t.attr("data-status")){var e=t.parent().attr("data-max");t.val().length<=e?t.parent().attr("data-min",t.val().length):t.val(t.val().substring(0,e-1)).trigger("input")}}function captcha_ajax(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.attr("disabled"))return!1;if(!e){var i=t.closest("form");e=i.serializeObject()}var o=t.data("action")||t.attr("action");if(o&&(e.action=o),e.captcha_type&&window.captcha&&!window.captcha.ticket)return CaptchaOpen(t,e.captcha_type),!1;window.captcha&&(e.captcha=JSON.parse(JSON.stringify(window.captcha)),e.captcha._this&&delete e.captcha._this,window.captcha={});var n={};n.status=0,n.msg=IO.localize.loading,showAlert(n);var s=t.html();t.attr("disabled",!0).html('<i class="iconfont icon-loading icon-spin mr-2"></i>'+IO.localize.wait),$.ajax({url:IO.ajaxurl,type:"POST",dataType:"json",data:e}).done(function(i){i.msg?(n.status=i.status,n.msg=i.msg,showAlert(n)):removeAlert(),t.attr("disabled",!1).html(s),$.isFunction(a)&&a(i,t,e),i.goto?i.delay?setTimeout(function(){window.location.href=i.goto,window.location.reload},i.delay):(window.location.href=i.goto,window.location.reload):i.reload&&(i.delay?setTimeout(function(){window.location.reload()},i.delay):window.location.reload())}).fail(function(e){e=e.responseJSON,e&&e.msg?(n.status=e.status,n.msg=e.msg,showAlert(n)):(n.status=4,n.msg=IO.localize.networkError,showAlert(n)),t.attr("disabled",!1).html(s)})}function getScrollbarWidth(){var t,e,a=document.createElement("DIV");return a.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;",t=document.body.appendChild(a).clientWidth,a.style.overflowY="scroll",e=a.clientWidth,document.body.removeChild(a),t-e}function hasScrollbar(){return document.documentElement.scrollHeight>window.innerHeight}function ioPopup(t,e,a,i){var o="";switch(t){case"big":o="io-bomb-lg";break;case"no-padding":o="io-bomb-nopd";break;case"cover":o="io-bomb-cover io-bomb-nopd";break;case"full":o="io-bomb-xl";break;case"small":o="io-bomb-sm";break;case"confirm":o="io-bomb-md";break;case"pay":o="io-bomb-sm io-bomb-nopd";break;default:o=""}var n='<div class="io-bomb '+o+' io-bomb-open">\n\t  \t<div class="io-bomb-overlay" style="'+a+'"></div>\n\t  \t<div class="io-bomb-body text-center">\n\t  \t\t<div class="io-bomb-content">'+e+'</div>\n\t  \t\t<div class="btn-close-bomb mt-2"><i class="iconfont icon-close-circle"></i></div>\n\t  \t</div>\n\t  </div>',s=$(n);$("body").addClass("modal-open").append(s),hasScrollbar()&&$("body").css("padding-right",getScrollbarWidth());var r=function(){s.removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout(function(){$("body").removeClass("modal-open"),hasScrollbar()&&$("body").css("padding-right",""),s.remove()},300)};return $(s).on("click touchstart",".btn-close-bomb i, .io-bomb-overlay",function(t){t.preventDefault(),$.isFunction(i)&&i(!0),r()}),s}function ioConfirm(t,e,a){var i='<div class="io-bomb io-bomb-confirm io-bomb-open">\n      <div class="io-bomb-overlay"></div>\n      <div class="io-bomb-body">\n        <div class="io-bomb-content text-sm">\n          <div class="io-bomb-header fx-yellow modal-header-bg text-center p-3">\n            <i class="iconfont icon-tishi text-32"></i>\n            <div class="text-md mt-1">'+t+'</div>\n          </div>\n          <div class="m-4">'+e+'</div>\n          <div class="io-bomb-footer text-center mb-4 mx-4">\n            <button class="btn vc-red btn-shadow flex-fill io-confirm-ok">'+IO.localize.okBtn+'</button>\n            <button class="btn vc-l-yellow btn-outline flex-fill io-confirm-cancel">'+IO.localize.cancelBtn+"</button>\n          </div>\n        </div>\n      </div>\n    </div>",o=$(i),n=function(){o.removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout(function(){$("body").removeClass("modal-open"),hasScrollbar()&&$("body").css("padding-right",""),o.remove()},300)};return o.find(".io-confirm-ok").on("click",function(){n(),$.isFunction(a)&&a(!0)}),o.find(".io-confirm-cancel").on("click",function(){n(),$.isFunction(a)&&a(!1)}),$("body").addClass("modal-open").append(o),hasScrollbar()&&$("body").css("padding-right",getScrollbarWidth()),o}var _slicedToArray=function(){function t(t,e){var a=[],i=!0,o=!1,n=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done)&&(a.push(s.value),!e||a.length!==e);i=!0);}catch(t){o=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();if(function(t,e){var t=t||{};t.window=e(window),t.document=e(document),t.body=e("body"),t.html=e("html"),t.isAsideInitEvent=!1}(IO,jQuery),function(t){t.cookie=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===e){for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var n=i[o].trim();if(0===n.indexOf(t+"="))return decodeURIComponent(n.substring(t.length+1))}return null}null===e&&(a.expires=-1,e="");var s="";if(a.expires){var r;"number"==typeof a.expires?(r=new Date,r.setTime(r.getTime()+24*a.expires*60*60*1e3)):a.expires.toUTCString&&(r=a.expires),s="; expires="+r.toUTCString()}var l=a.path?"; path="+a.path:"; path=/",d=a.domain?"; domain="+a.domain:"",c=a.secure?"; secure":"";document.cookie=t+"="+encodeURIComponent(e)+s+l+d+c},t.fn.serializeObject=function(){var e={},a=this.serializeArray();return t.each(a,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},t.fn.io_select_dropdown=function(){return this.each(function(){var e=t(this),a=e.find("input"),i=e.find(".dropdown-item"),o=e.find(".select-item");i.on("click",function(){var i=t(this),n=i.data("value"),s=i.text();a.val(n),o.text(s),e.hasClass("hover")&&(e.css("pointer-events","none"),setTimeout(function(){e.css("pointer-events","auto")},500))})})},t.fn.io_toggle_div=function(){return this.each(function(){var e=t(this),a=t(e.attr("data-target")),i=t(".fixed-body"),o=e.attr("data-class")||"",n=e.attr("data-z-index")||"10";i.length||(i=t('<div class="fixed-body"></div>'),IO.body.append(i));var s=function(){i.removeClass("show "+o).off("click"),"10"!=i.css("z-index")&&setTimeout(function(){i.css("z-index","10")},300)},r=function(){a.removeClass("show"),s(),e.attr("aria-expanded","false")};e.on("click",function(t){if(t.preventDefault(),a.length){var l=i.css("z-index"),d=a.toggleClass("show").hasClass("show");e.attr("aria-expanded",d),d?(i.trigger("click"),e.attr("old-z",l),i.css("z-index",n).addClass("show "+o),i.one("click",r),a.find(".hide-target").off("click").one("click",r)):s()}})})},t.fn.tabToCenter=function(){return this.each(function(){var e=t(this),a=e.find(".active");if(a.length){var i=e.innerWidth(),o=a.innerWidth(),n=e.scrollLeft(),s=a.position().left,r=Math.floor(e.prop("scrollWidth")-i),l=Math.floor(n+s-i/2+o/2);l=Math.max(0,Math.min(l,r)),l!==n&&e.animate({scrollLeft:l},300)}})},t.fn.io_slider_tab=function(){return this.each(function(){var e=t(this),a=e.find(".slider-ul"),i=e.find(".slider-li"),o=a.find(".active"),n=e.find(".tab-more"),s=100,r=a.data("active")||"active",l=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=a.children(".anchor");if(o.length){var i=100!==s?100/s:1,n=100!==s?o.outerWidth()/(100/(100-s))/2:0;e.css({left:o.position().left+a.scrollLeft()+n+"px",width:o.outerWidth()/i+"px",height:t?o.height()+"px":void 0,opacity:1})}else e.css({opacity:0})},d=function(t,e){var a=getPredefinedContent(t);e.empty().append(a)};a.length&&!a.hasClass("into")&&(0===a.find(".anchor").length?(a.prepend('<li class="anchor" style="position:absolute;width:0;height:28px"></li>'),l(!0)):(s=a.find(".anchor").data("width")||100,l()),a.addClass("into")),i.length&&i.on("click",function(){o=t(this);var e=t(o.data("target"));if(!o.hasClass("active")&&(e.addClass(r).siblings().removeClass(r),o.addClass("active").siblings().removeClass("active"),n.attr("href",o.data("more-link")),a.tabToCenter(),l(),!o.hasClass("load")&&o.data("action"))){var i=e.find(".ajax-list-body");d(o.data("style"),i),ioAjax(o,o.data(),function(t,a){o.addClass("load"),i.html(t.html),isPC()&&e.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})})}})})},t.fn.dependency=function(){var e=function(t){switch(t){case!0:case"true":case 1:case"1":t=!0;break;case null:case!1:case"false":case 0:case"0":t=!1}return t},a=function(a,i,o){if("=="==a)return e(i)==e(o);if("!="==a)return e(i)!=e(o);if(">="==a)return Number(o)>=Number(i);if("<="==a)return Number(o)<=Number(i);if(">"==a)return Number(o)>Number(i);if("<"==a)return Number(o)<Number(i);if("any"==a){var n=i.split(",");return t.isArray(o)?o.some(function(t){return n.includes(t)}):n.includes(o)}if("not-any"==a){var n=i.split(",");return t.isArray(o)?o.every(function(t){return!n.includes(t)}):!n.includes(o)}return!1};return this.each(function(){var e=t(this),i=e.find("[data-controller]");if(i.length){i.each(function(){var i=t(this);if(console.log(i),!i.attr("is-on")){var o=i.attr("is-on",!0).data("controller").split("|"),n=i.data("condition").split("|"),s=i.data("value").toString().split("|");t.each(o,function(o,r){var l=s[o]||"",d=n[o]||n[0]||"==";e.on("change","[name='"+r+"']",function(e){var o=t(this),n=o.attr("type"),s="checkbox"==n?o.is(":checked"):o.val(),r=a(d,l,s);i.trigger("controller.change",r),console.log(e),r?i.show():i.hide()})})}})}})},t.fn.io_sticky_aside=function(){return this.each(function(){var e=t(this),a=t("footer"),i=e.find(".aside-btn.btn-outdent"),o=t(".header-calculate"),n=t(".aside-popup"),s=n.find("ul"),r=t("header").outerHeight(),l=parseFloat(a.css("margin-top")),d=IO.body.hasClass("aside-min"),c=IO.body.hasClass("full-container"),u=0;0==n.length&&(IO.body.append('<div class="aside-popup text-sm"><ul></ul></div>'),n=t(".aside-popup"),s=n.find("ul"));var f=function(t){if(!("scroll"===t.type&&window.innerWidth<768)&&("user"===t.type||IO.isHeaderVisible||IO.isFooterVisible)){var i=0,n=10,s=IO.window.scrollTop();if(!c&&o.length){var d=o.first().outerHeight(!0);i=s<d+r?Math.max(.1,d-s):0}if(a.length){var u=s+window.innerHeight,f=a.offset().top-l;n=u>f-168?Math.max(10,u-f):10}e.css({top:r+i+"px",bottom:n+"px",opacity:1})}},h=function(i){e.removeAttr("style"),r=t("header").outerHeight(),l=parseFloat(a.css("margin-top")),c=IO.body.hasClass("full-container"),f(i)};IO.updateStickyAside=h,IO.isAsideInitEvent||(IO.isAsideInitEvent=!0,IO.window.on("scroll",throttle(f,10,!0)),window.innerWidth>=768&&(t(".aside-ul").hover(function(){d&&t("#layout_aside").addClass("hover-show")},function(){d&&t("#layout_aside").removeClass("hover-show")}),i.on("click",function(){var e=t(this);IO.body.toggleClass("aside-min"),d=!d;var a=e.find("[switch-class]"),i=a.attr("class");a.attr("class",a.attr("switch-class")).attr("switch-class",i);var e=e.find("[switch-text]"),o=e.text();e.text(e.attr("switch-text")).attr("switch-text",o)}),IO.window.resize(function(){!d&&window.innerWidth<992&&i.trigger("click")})),IO.isShowAsideSub&&(IO.document.on("mouseenter",".aside-ul>.aside-item",function(){var a=t(this);if(a.one("mouseleave",function(){n.hide()}),a.find(".aside-sub").length&&!e.hasClass("show")){0===u&&(IO.body.hasClass("aside-min")?(u=IO.asideWidth-20,setTimeout(function(){u=e.hasClass("hover-show")?a.outerWidth():0},300)):u=a.outerWidth()),s.html(a.find(".aside-sub").html()),n.show();var i=a.offset().top-IO.window.scrollTop(),o=IO.window.height()-n.height();o-i<=0&&(i=o>=0?o-15:0),n.stop().animate({top:i},50);var r=a.offset().left+u;n.css("left",r+"px")}}),IO.document.on("mouseenter",".aside-popup",function(){n.show(),t(this).one("mouseleave",function(){n.hide()})}),IO.document.on("click",".aside-popup ul li",function(){n.fadeOut(200)}))),f({type:"user",originalEvent:"init"})})},t.fn.io_stick_footer=function(){return this.each(function(){var e=t(this),a=function(t){if(IO.isFooterVisible){e.attr("style","");var a=IO.window.height(),i=e.outerHeight(),o=e.position().top+i;a>o&&e.css({marginTop:a-o}),IO.isAsideInitEvent&&IO.updateStickyAside(t)}};IO.window.off("resize.io_stick_footer").on("resize.io_stick_footer",debounce(a,200)),a({type:"auto",originalEvent:"stick footer"})})},t.fn.io_head_search=function(){return this.each(function(){var e=t(this),a=e.find("form"),i=a.find(".search-key"),o=a.find(".search-submit-btn"),n=e.find(".search-menu"),s=e.find(".search-term"),r=e.find(".search-smart-tips"),l=a.data("page"),d=e.hasClass("simple-search"),c=!1,u=function(){var t=window.localStorage.getItem("search_menu_"+l);if(t){var a=e.find('.search-menu[data-id="'+t+'"]'),i=e.find("#"+t);a.addClass("active").siblings().removeClass("active"),i.addClass("active").siblings().removeClass("active"),d&&a.closest(".dropdown").find(".select-item").text(a.text())}e.io_slider_tab();var o=window.localStorage.getItem("search_term_"+l);if(o){var n=e.find('.search-term[data-id="'+o+'"]');window.setTimeout(function(){c=!0,n.trigger("click")},100)}},f=function(){var e=IO.hotWords,o={google:"//suggestqueries.google.com/complete/search?client=firefox&callback=iowenHot",baidu:"//suggestion.baidu.com/su?p=3&cb=?"},n=o[e];if(n){var s=i.val();t.ajax({type:"GET",url:n,async:!0,data:"google"===e?{q:s}:{wd:s},dataType:"jsonp",jsonp:"google"===e?"callback":"cb",success:function(t){r.children("ul").text("");var o="google"===e?t[1].length:t.s.length;if(o){for(var n=0;n<o;n++){var s="google"===e?t[1][n]:t.s[n];r.children("ul").append("<li>"+s+"</li>"),r.find("li").eq(n).click(function(){i.val(s),a.submit(),r.slideUp(200)})}r.slideDown(200)}else r.slideUp(200)},error:function(t){console.error("Error:",t)}})}},h=function(){var t,e=-1;i.off().on({compositionstart:function(){return i.attr("data-status",!1)},compositionend:function(){return i.attr("data-status",!0)},blur:function(){return r.delay(150).slideUp(200)},focus:function(){"true"===i.attr("data-status")&&i.val()&&"true"===i.attr("data-smart-tips")&&f()},keyup:function(a){"true"===i.attr("data-status")&&i.val()?38!==a.keyCode&&40!==a.keyCode&&"true"===i.attr("data-smart-tips")&&(clearTimeout(t),t=setTimeout(function(){t=null,f(),e=-1},500)):r.slideUp(200)},keydown:function(t){if("true"===i.attr("data-smart-tips")){var a=r.find("li");if(40===t.keyCode||38===t.keyCode){e=40===t.keyCode?(e+1)%a.length:e<=0?a.length-1:e-1;var o=a.eq(e);o.addClass("current").siblings().removeClass("current"),i.val(o.text())}}}})},p=function(){o.on("click",function(){a.trigger("submit")}),a.on("submit",function(){var t=encodeURIComponent(i.val());if(!t)return!1;var e=a.attr("action"),o=e.includes("%s%")?e.replace("%s%",t):e+t;return window.open(o),!1})},m=function(){n.on("click",function(){var e=t(this),a=e.data("default"),i=e.data("target");window.localStorage.setItem("search_menu_"+l,e.data("id")),t(i+" ."+a).trigger("click")}),s.on("click",function(){var e=t(this);e.addClass("active").siblings().removeClass("active"),e.closest("ul").tabToCenter(),a.attr("action",e.data("value")),window.localStorage.setItem("search_term_"+l,e.data("id")),i.attr("data-smart-tips",!e.data("id").includes("zhannei")),i.attr("placeholder",e.data("placeholder")),c?c=!1:i.focus()})};!function(){h(),p(),m(),u()}()})},t.fn.io_nav_auto_fold=function(){return this.each(function(){var e=t(this),a=e.closest(".container-header"),i=e.find(".io-menu-fold"),o=i.find(">.sub-menu"),n=function(){var n=a.width()-100,s=0;o.empty(),a.find(">:not(.navbar-header-menu):not(.flex-fill):not(.menu-btn)").each(function(){n-=t(this).outerWidth(!0)}),e.find(">li:not(.io-menu-fold)").each(function(){var e=t(this),a=e.attr("id");s+=e.outerWidth(),s>n?(0===o.find(">#"+a).length&&e.clone().removeClass("hide").appendTo(o),e.addClass("hide")):(e.removeClass("hide"),o.find(">#"+a).remove())}),i.toggleClass("hide",0===o.find(">li").length)},s=function(){window.innerWidth>=768&&n()};IO.window.on("resize",debounce(s,20,!0)),s()})},t.fn.io_dominant_color=function(){var e=function(t){var e=_slicedToArray(t,3);return(299*e[0]+587*e[1]+114*e[2])/1e3};return this.each(function(){var a=t(this),i=a,o=a.find(".big-meta");if(!a.data("inited")){a.data("inited",!0);var n=a.find(".big-color")[0];if(!n)return void console.error("imgElement is null");var s="",r=function(){if(!s)return void console.error("主色为空");i.css("background-color","rgb("+s[0]+", "+s[1]+", "+s[2]+")");var t=e(s);if(!IO.isDarkMode||t<168){var a=t<168?"#ffffff":"#383b3f",n=t<168?"rgba(255, 255, 255, 0.7)":"rgba(20, 20, 20, 0.5)",r=t<168?"brightness(1.5)":"";o.css({"--this-color":a,"--this-muted-color":n,"--this-filter":r,"--this-bg-color":"rgba("+s[0]+", "+s[1]+", "+s[2]+", 0.6)"})}else o.removeAttr("style").css("--this-filter","brightness(1.5)")},l=function(){try{s=IO.colorThief.getColor(n),r()}catch(t){console.error("获取图片主色调失败",t)}};a.on("themeModeChanged",r),n.complete&&0!==n.naturalHeight?l():(n.onload=l,n.onerror=function(){console.error("图片加载失败，请检查图片路径或跨域问题")})}})},t.fn.load_weather=function(){if(0===this.length)return this;var e=this.data("token")?"weather-v2":"weather",a="weather"==e?"ThinkPageWeatherWidgetObject":"SeniverseWeatherWidgetObject";return ioRequire(e,function(t,e){t[a]=e,t[e]||(t[e]=function(){(t[e].q=t[e].q||[]).push(arguments)}),t[e].l=+new Date}(window,"ioWidget")),this.each(function(){var e=t(this),a=e.data("locale")||"zh",i=e.data("token")||!1;i?ioWidget("show",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:!0,language:a,unit:"c",theme:"auto",token:i,hover:"enabled",container:"io_weather_widget"}):(ioWidget("init",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:"enabled",language:a,unit:"c",theme:"chameleon",container:"io_weather_widget",bubble:"enabled",alarmType:"badge",color:"#888888",uid:"UD5EFC1165",hash:"2ee497836a31c599f67099ec09b0ef62"}),ioWidget("show"));var o=setInterval(function(){var t=e.find("a");t.length&&(t.removeAttr("href"),e.find(".container_A8JAUuC").on("click",function(t){t.preventDefault(),t.stopPropagation()}),clearInterval(o))},200);setTimeout(function(){clearInterval(o)},1e4)})},t.fn.io_hot_api=function(){return this.each(function(){var e=t(this),a=e.find(".hotapi-list"),i=e.find(".hotapi-refresh"),o=i.children("i"),n=e.find(".hotapi-loading"),s=e.find(".title-name"),r=e.find(".slug-name"),l=e.data("rule_id"),d=e.data("index"),c=e.data("is_iframe"),u=e.data("api_type"),f=e.data("type"),h="//ionews.top/api/get.php",p={rule_id:l,key:IO.apikey};if("json"!==u&&"rss"!==u||(h=IO.ajaxurl,p={type:u,action:"get_hot_data",id:l}),"tab"===f){var m=e.closest(".hotapi-tab-card");if(s=m.find('[data-target=".hotapi-'+u+"-"+d+'"]').find(".title-name"),!m.attr("init")){m.attr("init","true");var v=m.find(".hotapi-tab-btn");v.on("click",function(){var e=t(this);e.addClass("active").siblings().removeClass("active"),m.find(e.data("target")).addClass("active").siblings().removeClass("active"),v.parent().tabToCenter()})}}var g={1:"vc-l-red",2:"vc-l-yellow",3:"vc-l-purple"},b=function(t,e){var a="taoke"===e?"flex-column":"",i=g[t.index]||"",o=c?t.link.replace(/^https?:/,""):t.link,n=c?'data-fancybox data-type="iframe" data-src="'+o+'"':'js-href="'+o+'" target="_blank" rel="external noopener nofollow"';switch(e){case"taoke":var s='<div class="d-flex align-items-center mt-1 text-xs"><span class="badge vc-l-blue text-center">'+t.platform+'</span><span class="ml-auto white-nowrap text-muted">'+t.hot+"</span></div>";break;case"hot":var s='<div class="ml-auto hot-heat d-none d-md-block white-nowrap text-muted pl-1">'+t.hot+"</div>";break;default:var s=""}return'<li class="d-flex '+a+' text-sm mb-2">\n            <div class="w-100">\n              <badge class="hotapi-rank '+i+'">'+t.index+'</badge><a href="javascript:;" class="ml-1 word-break" '+n+">"+t.title+"</a>\n            </div>\n            "+s+"\n          </li>"},w=function(){t.get(h,p).done(function(t){if(!t.state)return o.removeClass("icon-spin"),void n.html(t.data).delay(3500).fadeOut(200);var e=t.title,i=t.subtitle,l=t.type,d=t.data;s.text(e),r.text(i);var c=d.map(function(t){return b(t,l)}).join("");a.html(c),n.fadeOut(200),o.removeClass("icon-spin")}).fail(function(){o.removeClass("icon-spin"),n.html(IO.localize.networkError).delay(3500).fadeOut(200)})};i.on("click",function(){return o.addClass("icon-spin"),n.html('<i class="iconfont icon-loading icon-spin text-32"></i>').fadeIn(200),w(),!1}),w()})},t.fn.io_multiple_dropdown=function(){return this.each(function(){var e=t(this),a=e.find("select"),i=e.find(".multiple-select"),o=e.find(".selected-input"),n=e.find(".multiple-dropdown"),s=e.find(".dropdown-list"),r=e.find(".select-all"),l=e.find(".clear-all"),d=[],c=[],u=e.data("placeholder")||"Select options",f=e.data("max-count")||0,h=function(){if(d.length>0){var t="";d.forEach(function(e){t+='<span class="selected-item">'+e.trim()+"</span>"}),o.html('<div class="selected-list">'+t+"</div>")}else o.text(u)},p=function(){JSON.stringify(a.val())!=JSON.stringify(c)&&a.val(c).trigger("input")};a.find("option").each(function(){var e=t(this),a=t('<li class="dropdown-item" data-value="'+e.val()+'">'+e.text()+"</li>");e.is(":selected")&&(a.addClass("selected"),d.push(e.text()),c.push(e.val())),s.append(a)}),h(),o.on("click",function(){var e=t(window).height(),a=n.outerHeight();e+IO.window.scrollTop()-(o.offset().top+o.outerHeight())<a?n.css({bottom:"100%"}):n.css({bottom:"auto"}),n.slideToggle(100),o.toggleClass("active")}),s.on("click",".dropdown-item",function(){var e=t(this),a=e.data("value"),i=e.text();if(!(f>1&&d.length>=f)||e.hasClass("selected")){if(1==f){var o=s.find(".selected");o&&o[0]!=e[0]&&(e.addClass("selected").siblings().removeClass("selected"),d=[i],c=[a])}else e.hasClass("selected")?(e.removeClass("selected"),d=d.filter(function(t){return t!==i}),c=c.filter(function(t){return t!==a})):(e.addClass("selected"),d.push(i),c.push(a));p(),h()}}),r.on("click",function(){s.find(".dropdown-item").each(function(){var e=t(this);if(!e.hasClass("selected")){e.addClass("selected"),d.push(e.text());var a=e.data("value");c.push(a)}}),p(),h()}),l.on("click",function(){s.find(".dropdown-item").removeClass("selected"),d=[],c=[],p(),h()}),IO.document.on("click",function(t){i.is(t.target)||0!==i.has(t.target).length||(n.slideUp(100),o.removeClass("active"))})})}}(jQuery),function(t){function e(){IO.isDarkMode=IO.html.hasClass("io-black-mode"),IO.isDominantColor=t(".big-posts").length>0,IO.isFooterVisible=!0,IO.isHeaderVisible=!0,IO.asideObserver||(IO.asideObserver=newObserver(800)),IO.autoLoadObserver||(IO.autoLoadObserver=t(".auto-load-next").length?newObserver(10):null)}function a(){IO.isDominantColor&&ioRequire(["color-thief"],function(){IO.colorThief||(console.log("Initialize ColorThief"),IO.colorThief=new ColorThief),t(".lazy").length||t(".big-posts").io_dominant_color()}),t("#chart-container").length&&ioRequire("echarts"),t("[captcha-type]").length&&ioRequire("captcha"),t("[data-fancybox]").length&&ioRequire("fancybox"),t("#comment").length&&ioRequire("comments"),t(".swiper").length&&ioRequire("swiper",n),t(".new-post-content").length&&ioRequire("new-post")}function i(){if(r(),t(".ajax-footprint").length&&d(),isInViewPort("footer",IO.asideObserver,function(t){IO.isFooterVisible=t}),isInViewPort(".header-calculate",IO.asideObserver,function(t){IO.isHeaderVisible=t}),t(".dependency-box").dependency(),t("#system_popup_ad").each(function(){var e=t(this),a=e.data("id"),i=e.data("ex"),o=e.data("delay");t.cookie("system_popup_ad")!=a&&setTimeout(function(){e.modal("show"),i>0&&t.cookie("system_popup_ad",a,{path:"/",expires:i})},o)}),t(".io-footer-tools").length||t(".main-header").length||t(".tabbar-go-up").length){var e,a=t(".io-footer-tools .go-to-up"),i=t(".tabbar-go-up .go-to-up"),o=t(".main-header");i.length&&a.remove();var n=function(){var t=IO.window.scrollTop();t>=168?(a.fadeIn(200),i.addClass("show")):(a.fadeOut(200),i.removeClass("show")),t>40?o.addClass("scroll"):o.removeClass("scroll")},l=function(){n(),IO.window.width()<IO.homeWidth&&(IO.body.addClass("scroll-ing"),clearTimeout(e),e=setTimeout(function(){IO.body.removeClass("scroll-ing")},500))};n(),IO.window.scroll(l)}if(IO.document.on("click","a.is-views[data-id]",function(){var e=t(this);s(e.data("id"),"sites"),t.get(IO.ajaxurl,{action:"io_postviews",postviews_id:e.data("id")},function(t){})}),IO.document.on("click","[data-clipboard-text]",function(e){var a=t(this),i=a.data("clipboard-text");a.hasClass("down_count")&&t.ajax({type:"POST",url:IO.ajaxurl,data:a.data(),success:function(e){t(".down-count-text").html(e)}}),i&&copyText(i,function(){alert(IO.localize.extractionCode)},function(){},this)}),t(".sidebar-tools").length&&ioRequire("sticky-sidebar",function(){t(".sidebar-tools").theiaStickySidebar({additionalMarginTop:80,additionalMarginBottom:20})}),t(".ajax-auto-get").each(function(){var e=t(this),a=t(e.data("target")),i=e.attr("href");i||(i=e.data("href")),t.get(i,null,function(t,e){a.html(t),ioAutoFun()})}),t(".ajax-auto-post").each(function(){var e=t(this),a=e.find(".icon-refresh"),i=t(e.data("target")),o=e.hasClass("auto"),n=o?i.html():'<div class="'+i.find(".posts-row").attr("class")+'">'+getPredefinedContent(e.data("style"))+"</div>",s=e.attr("href")||e.data("href"),r=function(){return!a.hasClass("icon-spin")&&(i.html(n),a.addClass("icon-spin"),t.post(s,e.data(),function(t,e){i.html(t),a.removeClass("icon-spin"),ioAutoFun()},"html"),!1)};e.hasClass("click")&&e.on("click",r),o&&r()}),t(".ajax-page-post").each(function(){var e=t(this),a=t(e.data("target")),i=e.hasClass("auto"),o=i?a.html():getPredefinedContent(e.data("style")),n=e.attr("href")||e.data("href"),s=function(){if(e.hasClass("loading"))return!1;e.addClass("loading");var i=parseInt(e.data("page"),10);return i>1?a.append(o):a.html(o),t.ajax({url:n,data:e.data(),type:"POST",success:function(t){a.find(".placeholder-posts").remove(),a.append(t),t.includes("nothing-msg")?e.remove():e.data("page",i+1),e.removeClass("loading"),ioAutoFun()},error:function(t){e.removeClass("loading"),console.error("error:",t)}}),!1};e.on("click",s),i&&s(),e.hasClass("auto-load-next")&&IO.autoLoadObserver&&isInViewPort(e[0],IO.autoLoadObserver,function(t){t&&e.data("page")<3&&e.trigger("click")})}),t(".list-ajax-by").each(function(){var e=t(this),a=t(e.data("target")),i=a.find(".ajax-page-post"),o=e.closest(".list-selects");e.on("click",function(){if(!e.hasClass("active")){t(this).addClass("active").siblings().removeClass("active"),o.tabToCenter(),i.data({page:1,orderby:e.data("type")}).trigger("click")}})}),setTimeout(function(){var e=window.location.hash;if(e&&!e.includes("=")){var a=t(e);if(a.length){var i=t('a.smooth[href="'+e+'"]');i.length?i.click():t("html, body").animate({scrollTop:a.offset().top-95},500)}}},300),t(".sites-seo-load").length){var c=t(".sites-seo-load");t.get(IO.ajaxurl+"?action=get_sites_seo&url="+c.data("url"),null,function(t,e){if("0"==t.errcode){var a="",i="",o=c.data("go_to");t.data.result.forEach(function(t){switch(t.type){case"BaiduPCWeight":i="百度PC";break;case"BaiduMobileWeight":i="百度移动";break;case"HaoSouWeight":i="360";break;case"SMWeight":i="神马";break;case"TouTiaoWeight":i="头条"}a+='<a class="sites-weight '+t.type+'" href="'+o+'" title="'+i+'" target="_blank" rel="external nofollow"><span>'+t.weight+"</span></a>"}),c.html(a)}})}}function o(){e(),a(),t(".footer-stick").io_stick_footer(),isPC()?t('[data-toggle="tooltip"]').tooltip("dispose").tooltip({container:"body"}):t('.qr-img[data-toggle="tooltip"]').tooltip("dispose").tooltip({container:"body"}),t('[contenteditable="true"]').attr("contenteditable","false")}function n(){if(!IO.initSwiper){IO.initSwiper=!0;new Swiper(".swiper-post-module",{autoplay:{disableOnInteraction:!1},lazy:{loadPrevNext:!0},slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".swiper-widgets",{autoplay:{disableOnInteraction:!1,delay:5e3},effect:"fade",thumbs:{swiper:{el:".swiper-widgets-thumbs",slidesPerView:"auto",freeMode:!0,centerInsufficientSlides:!0},autoScrollOffset:1},on:{init:function(t){this.slides.eq(0).addClass("anim-slide")},transitionStart:function(){for(var t=0;t<this.slides.length;t++){this.slides.eq(t).removeClass("anim-slide")}},transitionEnd:function(){this.slides.eq(this.activeIndex).addClass("anim-slide")}}}),new Swiper(".swiper-term-content",{nested:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,watchSlidesProgress:!0,resistanceRatio:!1});t(".lazy").length||lazyLoadInstance.update()}}function s(t,e){IO.postData={postId:t,postType:e},r()}function r(){if(void 0!==IO.postData&&IO.uid){var t=localStorage.getItem("ioUserFootprint_"+IO.uid);t=t?JSON.parse(t):[];var e={post_id:IO.postData.postId,post_type:IO.postData.postType,visit_time:(new Date).toISOString()};t.some(function(t){return t.post_id===e.post_id})?t.forEach(function(t){t.post_id===e.post_id&&(t.visit_time=(new Date).toISOString())}):t.push(e);var a=new Date;a.setDate(a.getDate()-7),t=t.filter(function(t){return new Date(t.visit_time)>=a}),localStorage.setItem("ioUserFootprint_"+IO.uid,JSON.stringify(t))}}function l(t){var e=localStorage.getItem("ioUserFootprint_"+IO.uid);if(!e)return[];e=JSON.parse(e);var a=e.filter(function(e){return e.post_type===t});return a.sort(function(t,e){return new Date(e.visit_time)-new Date(t.visit_time)}),a}function d(){t(".ajax-footprint").each(function(){var e=t(this);e.on("click",function(){var t=e.data("type");return IO.footprintData=l(t),c(e),!1}),e.hasClass("auto")&&e.removeClass("auto").trigger("click")}),IO.document.on("click",".footprint-next",function(){var e=t(this);return c(e),e.remove(),!1})}function c(e){if(e.hasClass("disabled"))return!1;e.addClass("disabled active").siblings().removeClass("active");var a=e.closest(".footprint-card").find(".ajax-panel"),i=e.data("type"),o=e.data("action"),n=e.data("style"),s=e.data("columns"),r=e.data("page")||1,l=e.data("group")||[],d=getPredefinedContent(i+"-"+n);a.removeClass(function(t,e){return(e.match(/\brow-col-\S+/g)||[]).join(" ")}),a.addClass(s),r>1?a.append(d):a.html(d),t.ajax({url:IO.ajaxurl,data:{action:o,type:i,style:n,columns:s,posts:IO.footprintData,group:l,page:r},dataType:"html"}).done(function(t){r>1?(a.find(".placeholder-posts").remove(),a.append(t)):a.html(t),ioAutoFun()}).fail(function(){showAlert({status:4,msg:IO.localize.networkError})}).always(function(){e.removeClass("disabled")})}if(IO.document.ready(function(){o(),i(),t("#layout_aside").io_sticky_aside(),t("[select-dropdown]").io_select_dropdown(),t("[data-toggle-div]").io_toggle_div(),t(".navbar-header").io_nav_auto_fold(),t(".io-slider-tab").io_slider_tab(),t("#search").io_head_search(),t("#io_weather_widget").load_weather(),t(".hotapi-card").io_hot_api(),t(".io-multiple-dropdown").io_multiple_dropdown()}),window.ioAutoFun=debounce(o,100),t(".go-to-up").click(function(){return t("html, body").animate({scrollTop:0},500),!1}),IO.document.on("click",".mobile-nav .icon-arrow-b",function(e){e.preventDefault();var a=t(this),i=a.closest("li"),o=i.find(".sub-menu").first();i.toggleClass("show"),o.slideToggle(200)}),IO.document.on("click","[js-href]",function(e){e.preventDefault();var a=t(this),i=a.attr("js-href"),o=a.attr("target");i&&(o?window.open(i,"_blank"):window.location.href=i)}),IO.document.on("shown.bs.tab","[ajax-route]",function(){var e=t(this);if(e.attr("onpopstate"))e.attr("onpopstate",!1);else{var a=e.attr("href")||e.attr("route")||e.attr("ajax-route"),i=e.attr("data-target");if(a){var o=document.title||e.text();history.pushState({tab_id:i},o,a)}}}),IO.document.on("hide.bs.tab","[ajax-route]",function(){var e=t(this);if(!history.state){var a=e.attr("href")||e.attr("route")||e.attr("ajax-route"),i=e.attr("data-target");a&&history.replaceState({tab_id:i},null,a)}}),window.onpopstate=function(e){var a=e.state&&t('[data-toggle="tab"][data-target="'+e.state.tab_id+'"]');a&&a.length&&a.attr("onpopstate",!0).click()},IO.document.on("click","[ajax-tab]",function(){var e=t(this);return e.parent().tabToCenter(),!e.hasClass("loaded")&&(e.addClass("loaded"),ajaxPosts(e,e.data("target")))}),IO.document.on("click","[ajax-tab-page]",function(){var e=t(this),a=t(e.data("target")),i=e.data("route_back")||window.location.href;if(e.addClass("active").siblings().removeClass("active"),IO.window.width()<768){var o=e.text(),n=t('<div class="drawer-header"><div class="drawer-close"><i class="iconfont icon-arrow-l"></i></div><div class="drawer-title">'+o+"</div></div>");n.on("click",".drawer-close",function(){IO.body.removeClass("show-tab-page"),history.replaceState(null,document.title,i),setTimeout(function(){n.remove()},300),e.removeClass("active")}),IO.body.append(n),setTimeout(function(){IO.body.addClass("show-tab-page")},10)}if(!e.hasClass("loaded")){if(e.addClass("loaded"),e.hasClass("disabled"))return!1;a.length&&e.addClass("disabled");var s=e.attr("href");a.load(s+" "+e.data("target")+" .load-ajax-card",function(){e.removeClass("disabled"),a.find(".ajax-footprint").length&&d()})}}),IO.window.width()<768&&t(".uc-content-body").length){if(IO.body.hasClass("user-center-"))return;t("[ajax-tab-page].loaded").click()}IO.document.on("click",".ajax-click-post",function(){var e=t(this);return e.hasClass("is-tab-btn")&&e.addClass("active").siblings().removeClass("active"),getPosts(e,e.data(),"POST"),!1}),IO.document.on("click",".ajax-posts-load",function(){var e=t(this);if(e.hasClass("disabled"))return!1;e.addClass("disabled");var a=".ajax-load-page",i=e.data("card")||".ajax-item",o=[".posts-nav"];return e.hasClass("is-tab-btn")&&e.addClass("active").siblings().removeClass("active"),"card"===e.attr("ajax-method")?e.parent().tabToCenter():"page"===e.attr("ajax-method")&&(a=e.data("page")||".ajax-load-page",i="",o=e.data("replace")||[".page-head-content"]),ajaxPosts(e,a,i,o)}),IO.document.on("click",".trash-history-search",function(e){var a=t(this);1==confirm("确认要清空全部搜索记录？")&&(a.closest(".search-keywords-box").slideUp().delay(1e3,function(){t(this).remove()}),t.cookie("io_history_search",null))}),IO.document.on("click",".search-ico-btn",function(){var e=t(".search-body form");e.length&&setTimeout(function(){e.find('[name="s"]').focus()},500)}),IO.document.on("click",".full-windows",function(){var e=t(".switch-container");e.toggleClass("container container-fluid"),e.hasClass("container-fluid")?IO.body.addClass("full-container"):IO.body.removeClass("full-container"),IO.isAsideInitEvent&&IO.updateStickyAside({type:"user",originalEvent:"btn click"})}),IO.document.on("click","a.smooth",function(e){e.preventDefault();var a=t(this),i=a.attr("href");if("#"==i.substr(0,1)&&t(i).length&&t("html, body").animate({scrollTop:t(i).offset().top-95},500),"#search"==i&&setTimeout(function(){t("#search-text").focus()},600),a.hasClass("change-href")){var o=t("li"+i);o[0]&&o.click()}}),IO.document.on("click",".add-favorites",function(t){t.preventDefault();var e=window.location.href,a=document.title;try{window.external.AddFavorite(e,a)}catch(t){alert("请使用 Ctrl+D (Windows) 或 Command+D (Mac) 手动将此页面添加到收藏夹。")}}),IO.document.on("click",".modal .io-ajax-price-get",function(){var e=t(this),a=e.attr("href");a||(a=e.data("href"));var i=e.parent();if(i.hasClass("disabled")||e.attr("disabled"))return!1;i.children().attr("disabled",!1),e.attr("disabled",!0),i.addClass("disabled");var o=e.closest("form"),n=o.find(e.data("target"));return n.append('<div class="d-flex align-items-center justify-content-center bg-o-muted position-absolute io-radius h-100 w-100"><i class="iconfont icon-loading icon-spin text-32"></i></div>'),t.get(a,null,function(e,a){var o=t(e);n.html(o),o[0].click(),i.removeClass("disabled")}),!1}),IO.document.on("click",".io-ajax-modal",function(){var e=t(this),a=ioModal(e);return t.ajax({type:"POST",url:IO.ajaxurl,data:e.data(),success:function(e){a.find(".io-modal-content").html(e).slideDown(200,function(){a.find(".loading-anim").fadeOut(200);var e=t(this).outerHeight(),i=a.find(".modal-content");i.animate({height:e},200,"swing",function(){i.css({height:"",overflow:"",transition:""})})})},error:function(){a.modal("hide"),showAlert({status:4,msg:IO.localize.networkError})}}),!1}),IO.document.on("click",".io-ajax-modal-get",function(){var e=t(this),a=e.attr("href");a||(a=e.data("href"));var i=ioModal(e);return t.get(a,null,function(a,o){i.find(".io-modal-content").html(a).slideDown(200,function(){i.find(".loading-anim").fadeOut(200);var e=t(this).outerHeight(),a=i.find(".modal-content");a.animate({height:e},200,"swing",function(){a.css({height:"",overflow:"",transition:""})})}),i.find(".dependency-box").dependency(),i.find(".initiate-pay").length&&ioRequire("pay"),"pay_publish"==e.data("modal_id")&&i.find(".io-close").on("click",function(){i.attr("is-user",!0)})}),!1}),IO.document.on("click",".io-posts-like",function(){var e=t(this),a=e.find("i"),i=e.find(".star-count"),o=a.data("class");if(e.hasClass("disabled"))return!1;e.addClass("disabled");var n={action:"posts_like",type:e.data("type"),post_type:e.data("post_type"),post_id:e.data("post_id"),ticket:e.data("ticket")};return t.ajax({type:"POST",url:IO.ajaxurl,data:n,dataType:"json",success:function(t){var n=t.data||t;1===n.type&&("add"===n.data.action?e.addClass("liked"):e.removeClass("liked"),o&&a.toggleClass(o),i.html(n.data.count)),showAlert(t.data),e.removeClass("disabled")},error:function(){showAlert({status:4,msg:IO.localize.networkError}),e.removeClass("disabled")}}),!1}),IO.document.on("click",".ajax-form-captcha #submit",function(){var e=t(this),a=e.closest("form");return captcha_ajax(e,"",function(t){1==t.status&&(a[0].reset(),a.find(".image-captcha").click())}),!1}),IO.document.on("click","[data-for]",function(){var e=t(this),a=e.closest("form"),i=e.html(),o=e.data("for"),n=e.data("value"),s=e.data("enable"),r=e.data("disable");s&&a.find(s).show(),r&&a.find(r).hide();var l=e.closest("[for-group]");l.length?l.find('[data-for="'+o+'"]').removeClass("active"):e.siblings().removeClass("active"),e.addClass("active"),a.find('input[name="'+o+'"]').val(n).trigger("change"),a.find('span[name="'+o+'"]').html(i)}),IO.document.on("input",".get-ajax-custom-product-val",debounce(function(){var e=t(this),a=e.data("href");if(e.hasClass("disabled"))return!1;e.addClass("disabled");var i=e.closest("form"),o=i.find(e.data("target"));return o.html('<i class="iconfont icon-loading icon-spin"></i>'),t.get(a,i.serializeObject(),function(t,a){t.msg?(alert.status=t.status?t.status:t.error?4:1,alert.msg=t.msg,showAlert(alert),o.html('<i class="iconfont icon-point"></i>')):o.html(t),e.removeClass("disabled")}),!1},800)),IO.document.on("click","#wp_login_form #submit",function(){return captcha_ajax(t(this),"",function(t){1==t.status&&(t.goto||window.location.reload())}),!1}),IO.document.on("input propertychange","#user_email",function(){t(this).val().length>4&&t(".verification").slideDown()}),IO.document.on("click",".password-show-btn",function(){var e=t(this),a=e.find(".iconfont"),i=e.siblings("input");"0"==e.data("show")?(a.removeClass("icon-chakan-line"),a.addClass("icon-hide-line"),i.attr("type","text"),e.data("show",1)):(a.removeClass("icon-hide-line"),a.addClass("icon-chakan-line"),i.attr("type","password"),e.data("show",0))}),IO.document.on("click",".btn-token",function(){var e=t(this);if(e.attr("disabled"))return!1;var a=e.closest("form"),i=a.find(".btn-token"),o=a.find("#user_email");o.length||(o=a.find(".mm_mail"));var n=60,s=e.html(),r=function t(){n>0?(i.html(n+IO.localize.reSend),n--,setTimeout(t,1e3)):(i.html(s).attr("disabled",!1),n=60)};!function(){captcha_ajax(e,"",function(t){o.attr("readonly","readonly"),1==t.status?(i.attr("disabled",!0),r()):o.removeAttr("readonly")})}()}),IO.document.on("click",".footprint-clear-all",function(){confirm(IO.localize.clearFootprint)&&(localStorage.removeItem("ioUserFootprint_"+IO.uid),location.reload())}),IO.document.on("click",".switch-dark-mode",function(t){IO.html.toggleClass("io-black-mode"),IO.isDarkMode=IO.html.hasClass("io-black-mode"),switchThemeMode(!0)}),IO.document.on("click",".open-login",function(){t(this);if(t("#user_agreement")[0]&&!t("#user_agreement").is(":checked"))return showAlert({status:2,msg:IO.localize.userAgreement}),!1})}(jQuery),document.addEventListener("DOMContentLoaded",function(){}),"auto-system"==IO.themeType&&null==$.cookie("io_night_mode")){var handleColorSchemeChange=function(t){IO.isDarkMode=t.matches,IO.isDarkMode?IO.html.addClass("io-black-mode"):IO.html.removeClass("io-black-mode"),switchThemeMode(!1),$.cookie("prefers-color-scheme",IO.isDarkMode?"dark":"light")},darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)");darkModeMediaQuery.addEventListener("change",handleColorSchemeChange),handleColorSchemeChange(darkModeMediaQuery)}console.log("\n %c OneNav  V"+IO.version+" 导航主题 By 一为 %c https://www.iotheme.cn/ \n","color: #ffffff; background: #f1404b; padding:5px 0;","background: #030307; padding:5px 0;");
